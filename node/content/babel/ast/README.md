# 一、本文目的：
如果我们来设计会怎么做？通过babel的案例，加深我们对JS的理解，和提升我们的构建能力
系统掌握babel相关概念：相关名词，相关概念，相关流程
作为Apis：babel相关文章不多，且从apis切入的更少，导致我们动手能力欠缺，故而不算真正掌握一门技术。只有我们对apis的灵活运用，我们才能更好的理解概念，及能力的提升
一、babel工作流程

# 二、相关文档
用户手册：对babel流程有个基础概念
AST树在线查看效果：理解词法分析和语法分析
插件在线查看效果：在线看插件效果

# 三、词法分析和语法分析
1、我们要对一个语言进行词法分析和语法分析，也就是要认识该语言的词法结构和语法结构
JS词法文法：包括 token、控制符、行终止符、注释和空白符。了解一门语言有哪些token，token怎么分割的，注释怎么写
JS运算符和表达式、语句和声明：了解一门语言的运算和语句
2、那我们应该怎么着手呢？
词法分析：识别出Token
这里拿for来看下Token结构

语法分析：根据Token识别出语句
JS代码其实就是若干个语句的集合。因为是识别出“语句”，我们从“语句”角度来分析下JS语句的分类及有哪些语句，进而就好理解babel语法分析为什么是如下结构。
JS语句分类（声明语句、表达式语句、功能语句）

得到Babel的语句分类

3、babel各种语句的结构表达
通过下面这张图，我们对babel的各种语句有个全貌的理解，但怎么来描述这些语句呢？我们知道不同语句有不同的结构，如二元表达式 ，可以抽象为：左操作数、右操作数、运算符。从这里也好理解，为什么叫抽象语法树。

我们应该如何来描述这些结构呢？
前面我们是从“语句”的颗粒度来对JS语句分类，得到Babel的语句分类。语句是由关键词和表达式组合形成的特定效果的语句。所以，我们需要再细化语句和表达式。得到如下图，来描述各个语句。
更加完整的结构参考：@babel/types

4、Babel这块代码逻辑是怎么做的呢？
相关npm库：@babel/parse

# 四、总结
![avatar](babel语法分析.png)
![avatar](babel抽象语法结构.png)
![avatar](nodePath方法.png)
